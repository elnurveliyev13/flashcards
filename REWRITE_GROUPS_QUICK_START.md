# Rewrite Groups - Quick Start Guide

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ß—Ç–æ —ç—Ç–æ?

–£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—à–∏–±–æ–∫ –≤ –¥–∏–∫—Ç–∞–Ω—Ç–∞—Ö, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –ø–æ–∫–∞–∑–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- **–ü—Ä–æ—Å—Ç—ã–µ —Å–ª—É—á–∞–∏** ‚Üí —Å—Ç—Ä–µ–ª–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞
- **–°–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏** ‚Üí –∑–∞—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ + –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å–≤–µ—Ä—Ö—É

---

## üìñ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ü—Ä–∏–º–µ—Ä 1: –°—Ç—Ä–µ–ª–∫–∏ (–ø—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π)

```
–í—ã –Ω–∞–ø–∏—Å–∞–ª–∏:    Jeg spise √• liker epler
–ü—Ä–∞–≤–∏–ª—å–Ω–æ:      Jeg liker √• spise epler

–†–µ–∑—É–ª—å—Ç–∞—Ç:
–í–∞—à –æ—Ç–≤–µ—Ç:   Jeg  [spise ‚Üí]  √•  [liker ‚Üí]  epler
                      ‚Üì____________‚Üë      ‚Üì____‚Üë
```

### –ü—Ä–∏–º–µ—Ä 2: Rewrite (—Å–ª–æ–∂–Ω—ã–π —Å–ª—É—á–∞–π)

```
–í—ã –Ω–∞–ø–∏—Å–∞–ª–∏:    F E D C B A
–ü—Ä–∞–≤–∏–ª—å–Ω–æ:      A B C D E F

–†–µ–∑—É–ª—å—Ç–∞—Ç:
–í–∞—à –æ—Ç–≤–µ—Ç:  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚Üª
            ‚îÇ ‚úÖ A B C D E F   ‚îÇ  ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ (–∑–µ–ª–µ–Ω—ã–π)
            ‚îÇ ‚ùå F E D C B A   ‚îÇ  ‚Üê –í–∞—à –≤–∞—Ä–∏–∞–Ω—Ç (–∑–∞—á–µ—Ä–∫–Ω—É—Ç–æ)
            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Rewrite?

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ "–∑–∞—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ", –µ—Å–ª–∏:

1. **> 50% —Å–ª–æ–≤** —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞
2. **> 1 –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è** —Å—Ç—Ä–µ–ª–æ–∫
3. **> 1 –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞** –ø–æ–∑–∏—Ü–∏–π (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –æ–¥–Ω—É —Ç–æ—á–∫—É)

---

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### –¶–≤–µ—Ç–∞:

- üü¢ **–ó–µ–ª–µ–Ω—ã–π** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
- üü† **–û—Ä–∞–Ω–∂–µ–≤—ã–π –∑–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π** - –≤–∞—à –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
- üü° **–ñ–µ–ª—Ç—ã–π** - –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–º —Å–ª–æ–≤–µ
- üî¥ **–ö—Ä–∞—Å–Ω—ã–π** - –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –∑–∞—á–µ—Ä–∫–Ω—É—Ç–æ–º

### –°–∏–º–≤–æ–ª—ã:

- `‚Üª` - –∏–∫–æ–Ω–∫–∞ "–ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ" (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
- `‚Üí` - —Å—Ç—Ä–µ–ª–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞ (–¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤)
- `^` - –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ (—Å–Ω–∏–∑—É)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É —Å –∞—É–¥–∏–æ
2. –í–∫–ª—é—á–∏—Ç–µ –¥–∏–∫—Ç–∞–Ω—Ç
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

**–ü—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π (—Å—Ç—Ä–µ–ª–∫–∏):**
```
–ü—Ä–∞–≤–∏–ª—å–Ω–æ: Jeg liker √• spise epler
–í–≤–µ–¥–∏—Ç–µ:   Jeg spise √• liker epler
```

**–°–ª–æ–∂–Ω—ã–π —Å–ª—É—á–∞–π (rewrite):**
```
–ü—Ä–∞–≤–∏–ª—å–Ω–æ: A B C D
–í–≤–µ–¥–∏—Ç–µ:   D C B A
```

**–° –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–µ–π (rewrite):**
```
–ü—Ä–∞–≤–∏–ª—å–Ω–æ: Han skal reise til Norge
–í–≤–µ–¥–∏—Ç–µ:   Han Norge til ryse skal
```

---

## üìÅ –§–∞–π–ª—ã

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **[flashcards.js](assets/flashcards.js)** - –ª–æ–≥–∏–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
   - Lines 4630-4879: –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ + –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `buildMovePlan()`
   - Lines 4991-5090: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `buildUserLine()`

2. **[app.css](assets/app.css)** - —Å—Ç–∏–ª–∏
   - Lines 3938-3985: —Å—Ç–∏–ª–∏ –¥–ª—è rewrite blocks

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

1. **[test-dictation-rewrite.html](test-dictation-rewrite.html)** - —Ç–µ—Å—Ç—ã
2. **[DICTATION_REWRITE_GROUPS.md](DICTATION_REWRITE_GROUPS.md)** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
3. **[REWRITE_GROUPS_QUICK_START.md](REWRITE_GROUPS_QUICK_START.md)** - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `shouldUseRewrite()` –≤ flashcards.js:

```javascript
function shouldUseRewrite(moveBlocks, gapMeta, userTokens){
  // –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ (—Å–µ–π—á–∞—Å 50%)
  if(moveBlocks.length > userTokens.length / 2){  // ‚Üê –ó–¥–µ—Å—å
    return true;
  }

  // –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π (—Å–µ–π—á–∞—Å > 1)
  const intersections = detectArrowIntersections(moveBlocks, gapMeta);
  if(intersections > 1){  // ‚Üê –ó–¥–µ—Å—å
    return true;
  }

  // –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (—Å–µ–π—á–∞—Å > 1)
  const conflicts = detectPositionConflicts(moveBlocks, gapMeta);
  if(conflicts.length > 1){  // ‚Üê –ó–¥–µ—Å—å
    return true;
  }

  return false;
}
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –ü–æ—Ä–æ–≥ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤: `0.3 - 0.6` (30-60%)
- –ü–æ—Ä–æ–≥ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π: `1 - 2`
- –ü–æ—Ä–æ–≥ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: `1 - 2`

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–∏—Ç—å console logs:

–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ `buildMovePlan()`:

```javascript
console.log('=== Move Plan Debug ===');
console.log('Move blocks:', moveBlocks.length);
console.log('Intersections:', detectArrowIntersections(moveBlocks, gapMeta));
console.log('Conflicts:', detectPositionConflicts(moveBlocks, gapMeta));
console.log('Should rewrite?', shouldUseRewrite(moveBlocks, gapMeta, userTokens));
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CSS:

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Elements ‚Üí –Ω–∞–π–¥–∏—Ç–µ `.dictation-rewrite-block` ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∏–ª–∏.

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–∏–∫—Ç–∞–Ω—Ç–æ–≤! üéâ**

---

*–°–æ–∑–¥–∞–Ω–æ: 2025-11-23*
*–í–µ—Ä—Å–∏—è: 1.0*
